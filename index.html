<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Rubber Matric</title>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/9.1.6/marked.min.js"></script>
    <script src="https://www.youtube.com/iframe_api"></script>
    <link rel="icon" href="images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header class="site-header">
            <div class="header-row">
                <div class="header-brand">
                    <img src="images/ci.png" alt="PingPong Lab" class="header-logo" id="homeLogo" role="button" tabindex="0" aria-label="Reset view">
                    <div class="header-text">
                        <h1 class="header-title">Best Ping Pong Rubber</h1>
                        <p class="header-tagline">Showing 0 Rubbers</p>
                    </div>
                </div>
                <div class="header-controls" aria-label="Chart controls">
                    <button class="header-ctrl-btn" id="zoomOutBtn" title="Zoom out">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/><line x1="8" y1="11" x2="14" y2="11"/></svg>
                    </button>
                    <button class="header-ctrl-btn" id="zoomInBtn" title="Zoom in">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/><line x1="11" y1="8" x2="11" y2="14"/><line x1="8" y1="11" x2="14" y2="11"/></svg>
                    </button>
                    <button class="header-ctrl-btn header-ctrl-fit" id="autoscaleBtn" title="Fit all points in view">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 3h6v6"/><path d="M9 21H3v-6"/><path d="M21 3l-7 7"/><path d="M3 21l7-7"/></svg>
                        <span>Fit</span>
                    </button>
                </div>
            </div>
            <div class="header-accent"></div>
        </header>
        <div class="chart-bleed">
            <div id="chart"></div>
        </div>

        <div class="filter-toolbar" id="filterToolbar">
            <button type="button" class="filter-trigger" id="filterTrigger" aria-expanded="false" aria-controls="filterPanel">
                <span class="filter-trigger-icon">â‰¡</span>
                <span class="filter-trigger-label">Filters</span>
                <span class="filter-trigger-summary" id="filterSummary"></span>
            </button>
            <div class="country-selector" id="countrySelector">
                <button type="button" class="country-btn active" data-country="us" title="USA" aria-label="USA">ðŸ‡ºðŸ‡¸</button>
                <button type="button" class="country-btn" data-country="eu" title="Europe" aria-label="Europe">ðŸ‡ªðŸ‡º</button>
                <button type="button" class="country-btn" data-country="cn" title="China" aria-label="China">ðŸ‡¨ðŸ‡³</button>
                <button type="button" class="country-btn" data-country="kr" title="Korea" aria-label="Korea">ðŸ‡°ðŸ‡·</button>
            </div>
            <button type="button" class="filter-action-btn reset-btn filter-reset-btn" id="clearAllFilters" title="Reset all filters">
                â†º Reset
            </button>
        </div>

        <div class="filter-panel" id="filterPanel" hidden>
            <div class="filter-panel-grid">
                <!-- Column 1: Weight, Hardness, Sheet, Control -->
                <div class="fp-section fp-section-sliders">
                    <div class="fp-section-header">
                        <span>Weight</span>
                        <div class="fp-section-actions">
                            <button type="button" id="weightResetBtn">Reset</button>
                        </div>
                    </div>
                    <div class="fp-options" id="weightFilter"></div>

                    <div class="fp-section-header fp-section-header-sub">
                        <span>Hardness</span>
                        <div class="fp-section-actions">
                            <button type="button" id="hardnessResetBtn">Reset</button>
                        </div>
                    </div>
                    <div class="fp-options" id="hardnessFilter"></div>

                    <div class="fp-section-header fp-section-header-sub"><span>Sheet</span></div>
                    <div class="fp-options" id="sheetFilter"></div>

                    <div class="fp-section-header fp-section-header-sub"><span>Control</span></div>
                    <div class="fp-options" id="controlFilter"></div>
                </div>

                <!-- Column 2: Brand -->
                <div class="fp-section fp-section-brand">
                    <div class="fp-section-header">
                        <span>Brand</span>
                        <div class="fp-section-actions">
                            <button type="button" data-filter="brand" data-action="all">All</button>
                            <button type="button" data-filter="brand" data-action="none">None</button>
                        </div>
                    </div>
                    <div class="fp-options fp-options-no-scroll" id="brandFilter"></div>
                </div>

                <!-- Column 3: Rubber -->
                <div class="fp-section fp-section-rubber">
                    <div class="fp-section-header">
                        <span>Rubber</span>
                        <div class="fp-section-actions">
                            <button type="button" data-filter="name" data-action="all">All</button>
                            <button type="button" data-filter="name" data-action="none">None</button>
                        </div>
                    </div>
                    <input class="fp-search" id="nameSearch" type="search" placeholder="Search rubberâ€¦">
                    <div class="fp-options" id="nameFilter"></div>
                </div>
            </div>
        </div>

        

        <div id="radarSection" class="radar-section">
            <div class="radar-info-panel radar-info-left" id="radarInfoLeft"></div>
            <div id="radarChart" class="radar-chart"></div>
            <div class="radar-info-panel radar-info-right" id="radarInfoRight"></div>
        </div>

        <div class="details-container">
            <div class="detail-panel" id="detail1">
                <h3>Select a rubber</h3>
                <div class="content">Click on any rubber to see details</div>
            </div>
            <div class="detail-panel" id="detail2">
                <h3>Select another rubber</h3>
                <div class="content">Click on another rubber to compare</div>
            </div>
        </div>

        <div id="comparisonBar" style="display: none;" class="comparison-bar"></div>

        <footer class="site-footer">
            <div class="site-footer-content">
                <span>Â© 2026 aiMiniLabs</span>
                <button class="footer-feedback-btn" id="feedbackOpenBtn" title="Send feedback">âœ‰ Feedback</button>
            </div>
        </footer>
    </div>

    <div class="feedback-modal" id="feedbackModal" aria-hidden="true">
        <div class="feedback-modal-card" role="dialog" aria-modal="true" aria-labelledby="feedbackTitle">
            <button type="button" class="feedback-modal-close" id="feedbackCloseBtn" aria-label="Close feedback form">Ã—</button>
            <h2 id="feedbackTitle">Share feedback</h2>
            <p class="feedback-intro">Weâ€™ll get back to you as soon as possible.</p>
            <form class="feedback-form" action="https://api.web3forms.com/submit" method="POST">
                <input type="hidden" name="access_key" value="209c243c-c02d-4523-8587-1fe225a6cad3">
                <input type="hidden" name="subject" value="PingPong Lab user feedback">
                <input type="checkbox" name="botcheck" class="feedback-botcheck" tabindex="-1" autocomplete="off">

                <label for="feedbackEmail">Email</label>
                <input id="feedbackEmail" type="email" name="email" autocomplete="email" placeholder="you@example.com" required>

                <label for="feedbackMessage">Message</label>
                <textarea id="feedbackMessage" name="message" rows="5" placeholder="Any ideas to make this better?" required></textarea>

                <button type="submit">Send feedback</button>
            </form>
            <div class="feedback-confirmation" id="feedbackConfirmation" hidden>
                <p class="feedback-confirmation-icon" aria-hidden="true">âœ“</p>
                <p class="feedback-confirmation-message" id="feedbackConfirmationMessage">Thank you for your feedback.</p>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
