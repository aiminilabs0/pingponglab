<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Rubber Matric</title>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/9.1.6/marked.min.js"></script>
    <script src="https://www.youtube.com/iframe_api"></script>
    <link rel="icon" href="images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header class="site-header">
            <div class="header-brand">
                <img src="images/ci.png" alt="PingPong Lab" class="header-logo" id="homeLogo" role="button" tabindex="0" aria-label="Reset view">
                <div class="header-text">
                    <h1 class="header-title">Popular Ping Pong Rubber</h1>
                    <p class="header-tagline">Compare spin, speed, control & feel</p>
                </div>
            </div>
            <div class="header-accent"></div>
        </header>

        <div class="filter-backdrop" id="filterBackdrop"></div>

        <div class="chart-bleed">
            <div id="chart"></div>
            <div class="chart-controls" aria-label="Chart controls">
                <button class="filter-action-btn chart-control-btn" id="zoomInBtn" title="Zoom in">
                    ğŸ”+
                </button>
                <button class="filter-action-btn chart-control-btn" id="zoomOutBtn" title="Zoom out">
                    ğŸ”âˆ’
                </button>
                <button class="filter-action-btn chart-control-btn autoscale-btn" id="autoscaleBtn" title="Fit all points in view">
                    âŠ Fit
                </button>
                <button class="filter-action-btn chart-control-btn reset-btn" id="clearAllFilters" title="Reset all filters">â†º Reset</button>
            </div>
        </div>

        <div class="filter-bar" id="filterBar">
            <!-- Brand chip -->
            <div class="filter-chip" data-filter="brand" id="brandChip">
                <span>Brand</span>
                <span class="filter-badge all-selected" id="brandBadge">All</span>
                <span class="chip-arrow"></span>
                <div class="filter-dropdown" id="brandDropdown">
                    <div class="dropdown-header">
                        <div class="dd-actions">
                            <button type="button" data-filter="brand" data-action="all">All</button>
                            <button type="button" data-filter="brand" data-action="none">None</button>
                        </div>
                        <button type="button" class="dropdown-close" title="Close">Ã—</button>
                    </div>
                    <input class="dropdown-search" id="brandSearch" type="search" placeholder="Search brandâ€¦">
                    <div class="dropdown-options" id="brandFilter"></div>
                </div>
            </div>

            <!-- Rubber chip -->
            <div class="filter-chip" data-filter="name" id="nameChip">
                <span>ğŸ“ Rubber</span>
                <span class="filter-badge all-selected" id="nameBadge">All</span>
                <span class="chip-arrow"></span>
                <div class="filter-dropdown" id="nameDropdown">
                    <div class="dropdown-header">
                        <div class="dd-actions">
                            <button type="button" data-filter="name" data-action="all">All</button>
                            <button type="button" data-filter="name" data-action="none">None</button>
                        </div>
                        <button type="button" class="dropdown-close" title="Close">Ã—</button>
                    </div>
                    <input class="dropdown-search" id="nameSearch" type="search" placeholder="Search rubberâ€¦">
                    <div class="dropdown-options" id="nameFilter"></div>
                </div>
            </div>

            <!-- Tack chip -->
            <div class="filter-chip" data-filter="topsheet" id="topsheetChip">
                <span>ğŸŸ¥ Topsheet</span>
                <span class="filter-badge all-selected" id="topsheetBadge">All</span>
                <span class="chip-arrow"></span>
                <div class="filter-dropdown" id="topsheetDropdown">
                    <div class="dropdown-header">
                        <div class="dd-actions">
                            <button type="button" data-filter="topsheet" data-action="all">All</button>
                            <button type="button" data-filter="topsheet" data-action="none">None</button>
                        </div>
                        <button type="button" class="dropdown-close" title="Close">Ã—</button>
                    </div>
                    <div class="dropdown-options" id="topsheetFilter"></div>
                </div>
            </div>

            <!-- Weight chip -->
            <div class="filter-chip" data-filter="weight" id="weightChip">
                <span>âš–ï¸ Weight</span>
                <span class="filter-badge all-selected" id="weightBadge">All</span>
                <span class="chip-arrow"></span>
                <div class="filter-dropdown" id="weightDropdown">
                    <div class="dropdown-header">
                        <div class="dd-actions weight-actions">
                            <button type="button" id="weightResetBtn">Reset</button>
                        </div>
                        <button type="button" class="dropdown-close" title="Close">Ã—</button>
                    </div>
                    <div class="dropdown-options" id="weightFilter"></div>
                </div>
            </div>

            <!-- Hardness chip -->
            <div class="filter-chip" data-filter="hardness" id="hardnessChip">
                <span>ğŸ§½ Hardness</span>
                <span class="filter-badge all-selected" id="hardnessBadge">All</span>
                <span class="chip-arrow"></span>
                <div class="filter-dropdown" id="hardnessDropdown">
                    <div class="dropdown-header">
                        <div class="dd-actions">
                            <button type="button" id="hardnessResetBtn">Reset</button>
                        </div>
                        <button type="button" class="dropdown-close" title="Close">Ã—</button>
                    </div>
                    <div class="dropdown-options" id="hardnessFilter"></div>
                </div>
            </div>

            <div class="country-selector" id="countrySelector">
                <button type="button" class="country-btn active" data-country="us" title="USA" aria-label="USA">ğŸ‡ºğŸ‡¸</button>
                <button type="button" class="country-btn" data-country="eu" title="Europe" aria-label="Europe">ğŸ‡ªğŸ‡º</button>
                <button type="button" class="country-btn" data-country="cn" title="China" aria-label="China">ğŸ‡¨ğŸ‡³</button>
                <button type="button" class="country-btn" data-country="kr" title="Korea" aria-label="Korea">ğŸ‡°ğŸ‡·</button>
            </div>

        </div>

        <div class="active-tags" id="activeTags"></div>

        

        <div class="details-container">
            <div class="detail-panel" id="detail1">
                <h3>Select a rubber</h3>
                <div class="content">Click on any rubber to see details</div>
            </div>
            <div class="detail-panel" id="detail2">
                <h3>Select another rubber</h3>
                <div class="content">Click on another rubber to compare</div>
            </div>
        </div>

        <div id="comparisonBar" style="display: none;" class="comparison-bar"></div>

        <footer class="site-footer">
            <div class="site-footer-content">
                <span>Â© 2026 aiMiniLabs</span>
                <button class="footer-feedback-btn" id="feedbackOpenBtn" title="Send feedback">âœ‰ Feedback</button>
            </div>
        </footer>
    </div>

    <div class="feedback-modal" id="feedbackModal" aria-hidden="true">
        <div class="feedback-modal-card" role="dialog" aria-modal="true" aria-labelledby="feedbackTitle">
            <button type="button" class="feedback-modal-close" id="feedbackCloseBtn" aria-label="Close feedback form">Ã—</button>
            <h2 id="feedbackTitle">Share feedback</h2>
            <p class="feedback-intro">Weâ€™ll get back to you as soon as possible.</p>
            <form class="feedback-form" action="https://api.web3forms.com/submit" method="POST">
                <input type="hidden" name="access_key" value="209c243c-c02d-4523-8587-1fe225a6cad3">
                <input type="hidden" name="subject" value="PingPong Lab user feedback">
                <input type="checkbox" name="botcheck" class="feedback-botcheck" tabindex="-1" autocomplete="off">

                <label for="feedbackEmail">Email</label>
                <input id="feedbackEmail" type="email" name="email" autocomplete="email" placeholder="you@example.com" required>

                <label for="feedbackMessage">Message</label>
                <textarea id="feedbackMessage" name="message" rows="5" placeholder="Any ideas to make this better?" required></textarea>

                <button type="submit">Send feedback</button>
            </form>
            <div class="feedback-confirmation" id="feedbackConfirmation" hidden>
                <p class="feedback-confirmation-icon" aria-hidden="true">âœ“</p>
                <p class="feedback-confirmation-message" id="feedbackConfirmationMessage">Thank you for your feedback.</p>
            </div>
        </div>
    </div>

    <button class="back-to-top" id="backToTop" aria-label="Back to top">â†‘</button>
    <button class="back-to-top back-to-bottom" id="backToBottom" aria-label="Go to bottom">â†“</button>

    <script src="app.js"></script>
</body>
</html>
